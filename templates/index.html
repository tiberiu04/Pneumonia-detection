{% extends "base.html" %}
{% block title %}Home - Pneumonia Detector{% endblock %}
{% block content %}

<div class="content px-4">

  <h1 class="display-4 mb-3 text-center text-primary">ü´Å Pneumonia Detector</h1>
  <p class="lead text-center">
    Harnessing the power of Artificial Intelligence to aid in the early detection of pneumonia from chest X-rays.
  </p>

<div class="card mt-4 p-4 shadow border-primary border-2">
  <h4 class="text-primary">ü©∫ What is Pneumonia?</h4>
  <p>
    Pneumonia is a serious respiratory infection that causes inflammation of the alveoli ‚Äî the tiny air sacs in the lungs. These air sacs may fill with fluid or pus, making it difficult for oxygen to reach the bloodstream and for carbon dioxide to be expelled. Pneumonia can affect one or both lungs, and it ranges in severity from mild to life-threatening, particularly in vulnerable populations.
  </p>

  <p>
    Pneumonia can be caused by a variety of organisms, including:
    <ul>
      <li><strong>Bacteria</strong> ‚Äî e.g., <em>Streptococcus pneumoniae</em>, the most common cause worldwide.</li>
      <li><strong>Viruses</strong> ‚Äî including influenza and respiratory syncytial virus (RSV), especially in children.</li>
      <li><strong>Fungi</strong> ‚Äî which can cause pneumonia in immunocompromised patients.</li>
      <li>Less commonly, inhalation of chemicals or aspiration of food/liquids (aspiration pneumonia).</li>
    </ul>
  </p>

  <p>
    <strong>Who is at risk?</strong> While pneumonia can affect anyone, it is more severe in infants, the elderly, and people with chronic illnesses or weakened immunity. Smokers and those exposed to air pollution are also at higher risk.
  </p>

  <p>
    <strong>Symptoms</strong> often include <em>cough, fever, chest pain, shortness of breath, and fatigue</em>. Confusion can occur in older adults. Diagnosis is made using clinical examination, chest X-rays, and sometimes blood or sputum tests.
  </p>

  <p>
    <strong>Treatment</strong> depends on the cause: antibiotics for bacterial pneumonia, antivirals for some viral pneumonias, and antifungals for fungal infections. Supportive care includes rest, fluids, oxygen therapy, and sometimes hospitalization.
  </p>

  <p>
    Vaccines such as the pneumococcal and influenza vaccines significantly reduce the risk of pneumonia, especially in high-risk groups.
  </p>

  <p class="mt-3 text-muted text-center">
    <small>Early detection is key to avoiding severe complications. AI-driven tools can help radiologists identify pneumonia on X-rays faster and more accurately.</small>
  </p>
</div>


<div class="row mt-5 gy-4">
  <div class="col-md-4">
    <div class="card h-100 p-3 shadow-sm border rounded border-info">
      <h5 class="text-info">ü´Å Lung Function</h5>
      <p>The lungs enable oxygen uptake & carbon dioxide removal, maintaining the body‚Äôs critical gas exchange and pH balance.</p>
      <img src="{{ url_for('static', filename='images/lungs.jpg') }}" class="img-fluid mt-2 rounded" alt="Lungs">
    </div>
  </div>

  <div class="col-md-4">
    <div class="card h-100 p-3 shadow-sm border rounded border-success">
      <h5 class="text-success">üìà Epidemiology</h5>
      <p>Pneumonia remains a leading cause of death globally ‚Äî especially in developing countries & immunocompromised individuals.</p>
      <img src="{{ url_for('static', filename='images/graph.jpg') }}" class="img-fluid mt-2 rounded" alt="Statistics">
    </div>
  </div>

  <div class="col-md-4">
    <div class="card h-100 p-3 shadow-sm border rounded border-warning">
      <h5 class="text-warning">üî¨ The Role of AI</h5>
      <p>Artificial Intelligence, especially deep learning (CNNs), identifies subtle radiographic patterns invisible to the human eye.</p>
      <img src="{{ url_for('static', filename='images/brain.jpeg') }}" class="img-fluid mt-2 rounded" alt="Brain & AI">
    </div>
  </div>
</div>


  <div class="card mt-5 p-4 shadow border-2 border-info">
    <h4 class="text-info">üìä Pneumonia Global Burden</h4>
    <p>
      The chart below illustrates estimated pneumonia incidence & mortality by age group and world region.
    </p>
    <canvas id="pneumoniaChart" height="120"></canvas>
  </div>

  <div class="text-muted mt-5 text-center">
    <small>Made with ‚ù§Ô∏è using Flask, Bootstrap & Chart.js ‚Äî AI assists doctors, it does not replace medical judgment.</small>
  </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const ctx = document.getElementById('pneumoniaChart').getContext('2d');

  const gradient1 = ctx.createLinearGradient(0, 0, 0, 400);
  gradient1.addColorStop(0, '#4facfe');
  gradient1.addColorStop(1, '#00f2fe');

  const gradient2 = ctx.createLinearGradient(0, 0, 0, 400);
  gradient2.addColorStop(0, '#fbc2eb');
  gradient2.addColorStop(1, '#a6c1ee');

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: [
        'Children <5',
        'Adults 18-64',
        'Elderly 65+',
        'Asia',
        'Africa',
        'Europe',
        'Americas'
      ],
      datasets: [
        {
          label: 'Incidence (per million)',
          data: [120000, 70000, 100000, 80000, 150000, 30000, 25000],
          backgroundColor: gradient1,
          borderRadius: 5
        },
        {
          label: 'Mortality (per million)',
          data: [2000, 500, 4000, 3000, 5000, 800, 700],
          backgroundColor: gradient2,
          borderRadius: 5
        }
      ]
    },
    options: {
      responsive: true,
      animation: {
        duration: 2000,
        easing: 'easeOutQuart'
      },
      plugins: {
        legend: {
          labels: { color: '#333' }
        },
        tooltip: {
          backgroundColor: '#f8f9fa',
          titleColor: '#333',
          bodyColor: '#555'
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          ticks: { color: '#333' },
          grid: { color: '#eee' }
        },
        x: {
          ticks: { color: '#333' },
          grid: { color: '#eee' }
        }
      }
    }
  });
});
</script>

{% endblock %}
